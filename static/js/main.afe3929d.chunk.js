(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),c=a.n(i),s=(a(37),a(9)),o=a(10),l=a(12),u=a(11),m=a(13),d=a(2),p=a.n(d),h=a(5),f=(a(39),a(20)),b=a(14),g={event:{name:"string",era:["EP","EM","ET","AF"],year:"number",month:"number",text:"textarea"},faction:{name:"string",hierarchy:{name:"string",rank:"number",summary:"string",display:"boolean"},parent:"string",summary:"string",text:"textarea",tags:"array<string>"},location:{name:"string",parent:"string",type:["Nation","City","Region","PoI"],subtype:"string",summary:"array<string>",tags:"array<string>",text:"textarea"},person:{name:"string",title:"string",race:"string",subrace:"string",sex:"string",class:["","Artificer","Barbarian","Bard","Bloodhunter","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard"],subclass:"string",homeland:"string",faction:"string",summary:"string",tags:"array<string>",text:"textarea"},race:{name:"string",type:["race","subrace"],parent:"string",traits:"array<trait>",abilities:{Str:"number",Dex:"number",Con:"number",Int:"number",Wis:"number",Cha:"number"},speed:"number",languages:"array<string/number>",skills:"string/number",feat:"string/number",tags:"array<string>"}},E=a(40);a(52),a(56);var y={apiKey:"AIzaSyALa18rNIoBfvH6dK2cZTcK8zcaovF01lc",authDomain:"worldbuild-3b59a.firebaseapp.com",databaseURL:"https://worldbuild-3b59a.firebaseio.com",projectId:"worldbuild-3b59a",storageBucket:"worldbuild-3b59a.appspot.com",messagingSenderId:"944041908346",appId:"1:944041908346:web:4993f328632af2a2"},v="localhost"===window.location.hostname?"/#":"/wb/#",w={rt:v,db:void 0,auth:void 0,user:{token:void 0,login:function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.auth().signInWithPopup(w.auth).then(function(e){}).catch(function(e){console.error(e)});case 2:console.log(E.auth().currentUser);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.user.token=void 0,e.next=3,E.auth().signOut().then(function(){window.location.pathname="/"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},capitalizeFirst:function(e){return e[0].toUpperCase()+e.substr(1)},deleteData:function(){var e=Object(h.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.db.collection(t).doc(a).delete().then(function(){return console.log("Document successfully deleted!"),!0}).catch(function(e){console.error("Error removing document: ",e)}),e.abrupt("return",!1);case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),getCharacterListData:function(e,t){var a=[];return t?["race","subrace","sex","class","subclass","title","homeland","faction","summary"].forEach(function(t){a.push({title:e.data[t]?e.data[t]:"",subtitle:t,clickable:!1})}):(e.data.homeland&&a.push({title:e.data.homeland,subtitle:"HOMELAND",clickable:!0,page:v+"/location?name="+e.data.homeland}),e.data.faction&&a.push({title:e.data.faction,subtitle:"FACTION",clickable:!0,page:v+"/faction?name="+e.data.faction})),a},getDoc:function(){var e=Object(h.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.db.collection(t).get().then(function(e){return e.docs.map(function(e){return{id:e.id,data:e.data()}})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getEditFields:function(e,t){var a=void 0;switch(e){case"/character":a=g.person;break;case"/faction":a=g.faction;break;case"/history":a=g.event;break;case"/location":a=g.location}return console.log(t),t?Object.getOwnPropertyNames(a).map(function(e){return{title:"name"===e?t.id:t.data[e],subtitle:e,type:a[e],clickable:!1}}):Object.getOwnPropertyNames(a).map(function(e){return{title:"",subtitle:e,type:a[e],clickable:!1}})},getPageData:function(){var e=Object(h.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="/people"===e.t0?3:"/character"===e.t0?3:"/location"===e.t0?6:"/world"===e.t0?6:"/faction"===e.t0?9:12;break;case 3:return e.next=5,w.getDoc("characters");case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,w.getDoc("locations");case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,w.getDoc("factions");case 11:return e.abrupt("return",e.sent);case 12:return e.abrupt("return",null);case 13:case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),getParentNation:function(e,t){return"undefined"===typeof e?void 0:"Nation"===e.data.type?e:w.getParentNation(t.find(function(t){return t.id===e.data.parent}),t)},getUnique:function(e){return e.filter(function(t,a){return e.indexOf(t)===a})},getUser:function(){return E.auth().currentUser},init:function(){E.initializeApp(y),w.db=E.firestore(),w.auth=new E.auth.GoogleAuthProvider,E.auth().useDeviceLanguage()},list:{index:[{title:"The World",clickable:!0,page:v+"/world"},{title:"Factions",clickable:!0,page:v+"/faction"},{title:"People",clickable:!0,page:v+"/people"},{title:"History",clickable:!0,page:v+"/history"}],people:[{title:"By Race",clickable:!0,page:v+"/people?sort=race"},{title:"By Class",clickable:!0,page:v+"/people?sort=class"},{title:"Alphabetical",clickable:!0,page:v+"/people?sort=alpha"}],world:[{title:"Nations",clickable:!0,page:v+"/world?type=nation"},{title:"Historical",clickable:!0,page:v+"/world?type=historical"},{title:"Alphabetical",clickable:!0,page:v+"/world?sort=alpha"}]},saveData:function(){var e=Object(h.a)(p.a.mark(function e(t,a,n,r){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="/character"===e.t0?3:"/faction"===e.t0?6:"/history"===e.t0?9:"/location"===e.t0?12:15;break;case 3:return e.next=5,w.db.collection("characters").doc(a).set(n).then(Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Data saved!"),!r){e.next=4;break}return e.next=4,w.deleteData("characters",r);case 4:case"end":return e.stop()}},e)})));case 5:return e.abrupt("break",15);case 6:return e.next=8,w.db.collection("factions").doc(a).set(n).then(Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Data saved!"),!r){e.next=4;break}return e.next=4,w.deleteData("factions",r);case 4:case"end":return e.stop()}},e)})));case 8:return e.abrupt("break",15);case 9:return e.next=11,w.db.collection("events").doc(a).set(n).then(Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Data saved!"),!r){e.next=4;break}return e.next=4,w.deleteData("events",r);case 4:case"end":return e.stop()}},e)})));case 11:return e.abrupt("break",15);case 12:return e.next=14,w.db.collection("locations").doc(a).set(n).then(Object(h.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Data saved!"),!r){e.next=4;break}return e.next=4,w.deleteData("locations",r);case 4:case"end":return e.stop()}},e)})));case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),sortByLastName:function(e){return e.sort(function(e,t){var a=void 0,n=void 0;return(a="string"===typeof e?e.split(" ")[e.split(" ").length-1]:e.id.split(" ")[e.id.split(" ").length-1])>(n="string"===typeof t?t.split(" ")[t.split(" ").length-1]:t.id.split(" ")[t.id.split(" ").length-1])?1:n>a?-1:0})}},k=w,O=k.rt,x=function(){var e={};return Array.from(document.getElementById("editForm").getElementsByTagName("input")).forEach(function(t){t.name&&(e[t.name]=t.value)}),e},j=function(e){var t={};return(e=(e=e.substring(1)).split("&")).forEach(function(e){1===(e=e.split("=")).length?t[e[0]]=!0:2===e.length&&(t[e[0]]=e[1])}),t},N=function(){var e=Object(h.a)(p.a.mark(function e(t,a){var n,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=x(),r=j(window.location.search),i=n.name,console.log(k.user),r.name?n.name===r.name?(delete n.name,k.saveData(C(window.location.pathname),r.name,n).then(function(){window.location.search=window.location.search.replace(/&*edit=true/,"")})):t[n.name]?(alert("Error: Could not save information.  A document with the name "+n.name+" already exists."),console.error("Could not save information.  A document with the name "+n.name+" already exists.")):(delete n.name,k.saveData(C(window.location.pathname),i,n,r.name).then(function(){window.location.search=window.location.search="?name="+encodeURIComponent(i)})):(delete n.name,k.saveData(C(window.location.pathname),i,n).then(function(){window.location.search="?name="+i}));case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),C=function(e){return e.replace(O,"")},I=function(e){switch(e.type){case"textarea":return r.a.createElement("textarea",{name:e.subtitle,type:"text",className:"TextField-Large",placeholder:e.title?e.title:"Add a description...",datafield:"text"});case"number":case"string":default:return r.a.createElement("input",{type:"text",name:e.subtitle,className:"ListEditField",defaultValue:e.title})}},U=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Edit"}),r.a.createElement("div",{id:"editForm"},r.a.createElement(D,{data:k.getEditFields(C(window.location.pathname),e.doc),edit:!0}),r.a.createElement("div",{className:"EditButtons"},r.a.createElement("div",{style:{height:"20px",width:"20px",borderRadius:"10px",backgroundColor:"blue"},onClick:function(){N(e.data)}}," "),r.a.createElement("button",{onClick:function(){N(e.data)}}," SAVE "))))},R=function(e){return r.a.createElement("div",{className:"HeaderBar"},r.a.createElement("div",{className:"left"}," ",window.location.pathname===O+"/"?[]:r.a.createElement(F,null)," "),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"HeaderTitle"},e.str)),r.a.createElement("div",{className:"right"}," ",window.location.pathname===O+"/signin"?[]:r.a.createElement(W,{type:e.menuType})," "))},F=function(e){return r.a.createElement("a",{href:"./"},r.a.createElement("span",{className:"HeaderButton"},"< HOME"))},T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Lott"}),r.a.createElement(D,{data:k.list.index}))},D=function(e){return e.data.map(function(t,a){return r.a.createElement(P,Object.assign({},t,{edit:e.edit,key:a}))})},P=function(e){return e.edit?r.a.createElement("div",{className:"ListItem"},r.a.createElement("div",{className:"center"},r.a.createElement(I,e),r.a.createElement("span",{className:"ListSubtitle"},e.subtitle))):e.clickable?r.a.createElement(f.b,{to:e.page},r.a.createElement("div",{className:"ListItem"},r.a.createElement("div",{className:"center"},r.a.createElement("span",{className:"ListTitle"},e.title),e.subtitle?r.a.createElement("span",{className:"ListSubtitle"},e.subtitle):[]),r.a.createElement("div",{className:"right",style:{color:"lightgray"}},">"))):r.a.createElement("div",{className:"ListItem"},r.a.createElement("div",{className:"center"},r.a.createElement("span",{className:"ListTitle"},e.title),r.a.createElement("span",{className:"ListSubtitle"},e.subtitle)))},L=function(){return r.a.createElement(r.a.Fragment,null,k.user.logout())},A=function(e){return r.a.createElement(D,{data:k.getUnique(e.data.map(function(e){return e?Array.isArray(e)?e[0]:e:"Other"})).sort().map(function(t){return{title:k.capitalizeFirst(t),clickable:e.clickable,page:e.page+t}})})},B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={data:void 0,params:j(window.location.search)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.getPageData(C(window.location.pathname)).then(function(t){e.setState({data:t})})}},{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.setState({params:j(window.location.search)})}}]),t}(r.a.Component),H=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){var t=this,a=k.getUser()&&"true"===this.state.params.edit;if(this.state.data){if(this.state.params.name){if(!("true"===this.state.params.edit)===!a){var n=this.state.data.find(function(e){return e.id===decodeURIComponent(t.state.params.name)});return n?a?r.a.createElement(U,{data:this.state.data,doc:n}):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:n.data.title?n.data.title+" "+n.id:n.id,menuType:"character"}),r.a.createElement("div",{className:"Text subtle"},k.capitalizeFirst((n.data.subrace?n.data.subrace:n.data.race)+" "+(n.data.subclass?n.data.subclass:n.data.class?n.data.class:""))),r.a.createElement(D,{data:k.getCharacterListData(n,a),edit:a}),r.a.createElement("br",null),r.a.createElement("div",{className:"Text"},n.data.text?n.data.text:n.data.summary?n.data.summary:"")):r.a.createElement("div",{className:"Text"},"Error: ",decodeURIComponent(this.state.params.name)," not found.")}return"true"===this.state.params.edit?r.a.createElement("div",{className:"Text"},"Error: You must be logged in to edit this page."):r.a.createElement("div",{className:"Text"},"Error: How did you even do this?  This code shouldn't even be reachable.")}return a?r.a.createElement(U,{data:this.state.data,doc:void 0}):r.a.createElement("div",{className:"Text"},'Error: Parameter "name" missing.')}return r.a.createElement("div",null," Loading... ")}}]),t}(B),S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=k.getUser()&&"true"===this.state.params.edit;if(!this.state.data)return r.a.createElement("div",null," Loading... ");if(!this.state.params.name)return t?r.a.createElement(U,{data:this.state.data,doc:{}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Factions",menuType:"faction"}),r.a.createElement(D,{data:this.state.data.map(function(e){return{title:e.id,subtitle:e.data.summary,clickable:!0,page:"/faction?name="+encodeURIComponent(e.id)}})}));if("true"!==this.state.params.edit===!t){var a=this.state.data.find(function(t){return t.id===decodeURIComponent(e.state.params.name)});return a?"hierarchy"===this.state.params.list?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Hierarchy of "+a.id,menuType:"faction"}),r.a.createElement(D,{data:Object.getOwnPropertyNames(a.data.hierarchy).map(function(e){return{title:e,subtitle:a.data.hierarchy[e].summary,clickable:!0,page:"/people?faction="+encodeURIComponent(a.id)+"&title="+encodeURIComponent(e)}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:a.id,menuType:"faction"}),r.a.createElement("div",{className:"Text"},a.data.summary),r.a.createElement(D,{data:[{title:"Hierarchy",clickable:!0,page:"/faction?name="+a.id+"&list=hierarchy"},{title:"Members",clickable:!0,page:"/people?faction="+a.id}]})):r.a.createElement("div",{className:"Text"},"Error: ",decodeURIComponent(this.state.params.name)," not found.")}return"true"===this.state.params.edit?r.a.createElement("div",{className:"Text"},"Error: You must be logged in to edit this page."):void 0}}]),t}(B),M=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){k.getUser()&&this.state.params.edit;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"History",menuType:"event"}))}}]),t}(B),z=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=k.getUser()&&"true"===this.state.params.edit;if(!this.state.data)return r.a.createElement("div",null," Loading... ");if(!this.state.params.name)return t?r.a.createElement(U,{data:this.state.data,doc:{}}):r.a.createElement("div",null,'Error: Parameter "name" missing.');if(!("true"===this.state.params.edit)===!t){var a=this.state.data.find(function(t){return t.id===decodeURIComponent(e.state.params.name)});return a?t?r.a.createElement(U,{data:this.state.data,doc:a}):"Nation"===a.data.type?"city"===this.state.params.list?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Cities of "+a.id,menuType:"location"}),r.a.createElement(D,{data:this.state.data.filter(function(t){return"City"===t.data.type&&void 0!==k.getParentNation(t,e.state.data)&&k.getParentNation(t,e.state.data).id===a.id}).map(function(e){return{title:e.id,subtitle:e.summary,clickable:!0,page:"/location?name="+encodeURIComponent(e.id)}})})):"region"===this.state.params.list?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Regions of "+a.id,menuType:"location"}),r.a.createElement(D,{data:this.state.data.filter(function(t){return"Region"===t.data.type&&void 0!==k.getParentNation(t,e.state.data)&&k.getParentNation(t,e.state.data).id===a.id}).map(function(e){return{title:e.id,subtitle:e.summary,clickable:!0,page:"/location?name="+encodeURIComponent(e.id)}})})):"poi"===this.state.params.list?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Landmarks of "+a.id,menuType:"location"}),r.a.createElement(D,{data:this.state.data.filter(function(t){return"PoI"===t.data.type&&void 0!==k.getParentNation(t,e.state.data)&&k.getParentNation(t,e.state.data).id===a.id}).map(function(e){return{title:e.id,subtitle:e.summary,clickable:!0,page:"/location?name="+encodeURIComponent(e.id)}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:a.id,menuType:"location"}),r.a.createElement(D,{data:[{title:"Cities",clickable:!0,page:"/location?name="+encodeURIComponent(a.id)+"&list=city"},{title:"Regions",clickable:!0,page:"/location?name="+encodeURIComponent(a.id)+"&list=region"},{title:"Other Points of Interest",clickable:!0,page:"/location?name="+encodeURIComponent(a.id)+"&list=poi"},{title:"Noteworthy Residents",clickable:!0,page:"/people?nation="+encodeURIComponent(a.id)}]})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:a.id,menuType:"location"}),r.a.createElement("div",null,a.data.summary)):r.a.createElement("div",null,"Error: ",decodeURIComponent(this.state.params.name)," not found.")}return"true"===this.state.params.edit?r.a.createElement("div",{className:"Text"},"Error: You must be logged in to edit this page."):void 0}}]),t}(B),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={params:j(window.location.search),isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleMenu",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Menu"},r.a.createElement("span",{className:"HeaderButton",onClick:function(){e.toggleMenu()}}," MENU "),r.a.createElement("div",{className:"MenuBody",style:{visibility:this.state.isOpen?"visible":"hidden"}},r.a.createElement(D,{data:k.getUser()?this.props.type?[{title:"Sign Out",clickable:!0,page:O+"/signout"},{title:"Edit Page",clickable:!0,page:window.location.pathname+(window.location.search?window.location.search+"&":"?")+"edit=true"},{title:"New "+k.capitalizeFirst(this.props.type),clickable:!0,page:O+"/"+this.props.type+"?edit=true"}]:[{title:"Sign Out",clickable:!0,page:O+"/signout"}]:[{title:"Sign In",clickable:!0,page:O+"/signin"}]})))}}]),t}(r.a.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){var t=this;return this.state.data?this.state.params.race?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:k.capitalizeFirst(decodeURIComponent(this.state.params.race)),menuType:"character"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.race===decodeURIComponent(t.state.params.race)}).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):this.state.params.class?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:k.capitalizeFirst(decodeURIComponent(this.state.params.class)),menuType:"character"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.class===decodeURIComponent(t.state.params.class)}).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):this.state.params.nation?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Residents of "+decodeURIComponent(this.state.params.nation),menuType:"character"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.homeland===decodeURIComponent(t.state.params.nation)}).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):this.state.params.faction?this.state.params.title?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:decodeURIComponent(this.state.params.title),menuType:"character"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.faction===decodeURIComponent(t.state.params.faction)&&e.data.title===decodeURIComponent(t.state.params.title)}).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Residents of "+decodeURIComponent(this.state.params.nation),menuType:"character"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.faction===decodeURIComponent(t.state.params.faction)}).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):"alpha"===this.state.params.sort?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"People - Alphabetical",menuType:"character"}),r.a.createElement(D,{data:k.sortByLastName(this.state.data).map(function(e){return{title:e.data.title?e.data.title+" "+e.id:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/character?name="+encodeURIComponent(e.id)}})})):"class"===this.state.params.sort?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"People by Class",menuType:"character"}),r.a.createElement(A,{data:this.state.data.map(function(e){return e.data.class}),clickable:!0,page:O+"/people?class="})):"race"===this.state.params.sort?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"People by Race",menuType:"character"}),r.a.createElement(A,{data:this.state.data.map(function(e){return e.data.race}),clickable:!0,page:O+"/people?race="})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"People",menuType:"character"}),r.a.createElement(D,{data:k.list.people})):r.a.createElement("div",null," Loading... ")}}]),t}(B),Y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Sign In"}),r.a.createElement("button",{onClick:k.user.login},"Sign in with Google."))}}]),t}(r.a.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){return this.state.data?"nation"===this.state.params.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Nations",menuType:"location"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return"Nation"===e.data.type}).map(function(e){return{title:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/location?name="+encodeURIComponent(e.id)}})})):"historical"===this.state.params.type?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Historical Locations",menuType:"location"}),r.a.createElement(D,{data:this.state.data.filter(function(e){return e.data.subtype&&e.data.subtype.includes("Historical")}).map(function(e){return{title:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/location?name="+encodeURIComponent(e.id)}})})):"alpha"===this.state.params.sort?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"Historical Locations",menuType:"location"}),r.a.createElement(D,{data:this.state.data.sort(function(e,t){return[e.id,t.id].sort()}).map(function(e){return{title:e.id,subtitle:e.data.summary,clickable:!0,page:O+"/location?name="+encodeURIComponent(e.id)}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{str:"The World",menuType:"location"}),r.a.createElement(D,{data:k.list.world})):r.a.createElement("div",null," Loading... ")}}]),t}(B),G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(b.a,{path:O+"/",exact:!0,component:T}),r.a.createElement(b.a,{path:O+"/character",component:H}),r.a.createElement(b.a,{path:O+"/faction",component:S}),r.a.createElement(b.a,{path:O+"/history",component:M}),r.a.createElement(b.a,{path:O+"/location",component:z}),r.a.createElement(b.a,{path:O+"/people",component:K}),r.a.createElement(b.a,{path:O+"/signin",component:Y}),r.a.createElement(b.a,{path:O+"/signout",component:L}),r.a.createElement(b.a,{path:O+"/world",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.init(),c.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.afe3929d.chunk.js.map